h1. Download and Installation

The installation instructions are slightly different for each operating system.
If you are using Ruby, pick the one that best matches your operating system.
If you are using JRuby, see the instructions for "JRuby":#jruby and also read
about using "JRuby and Ruby side by side":#using_jruby_and_ruby.


p(note). The current release of Buildr works with Ruby 1.8 and JRuby 1.1RC1.
We do not yet support Ruby 1.9 yet.
  

h2.  Linux, BSD, Cygwin

To get started you will need a recent version of Ruby, Ruby Gems and build
tools for compiling native libraries (Make and GCC).

On Ubuntu you can setup your environment by installing the following packages:

{{{!sh
$ sudo apt-get install ruby
$ sudo apt-get install ruby1.8-dev
$ sudo apt-get install build-essential
$ sudo apt-get install libopenssl-ruby
}}}

Other distributions may use different package manages, like @yum@ and @emerge@.

We recommend you first upgrade to the latest version of Ruby gems:

{{{!sh
$ sudo gem update --system
}}}

Before installing Buildr, please set the @JAVA_HOME@ environment variable to
point to your JDK distribution.  Next, use Ruby Gem to install Buildr:

{{{!sh
$ sudo env JAVA_HOME=$JAVA_HOME gem install buildr
}}}

Buildr uses several libraries that include native extensions.  During
installation it will ask you to pick a platform for these libraries.  By
selecting @ruby@ it will download the source code for these extensions and
compile them to work on your machine.

To upgrade to a new version of Buildr:

{{{!sh
$ sudo env JAVA_HOME=$JAVA_HOME gem update buildr
}}}

To install a specific version of Buildr:

{{{!sh
$ sudo env JAVA_HOME=$JAVA_HOME gem install buildr -v 1.3.0
}}}


h2.  OS/X

Leopard comes with the latest version of Ruby 1.8 and Ruby Gems.  If you are
using Tiger or an older release of OS/X, we recommend you first install a
recent version of Ruby and Ruby Gems (see "Building Ruby on
OS/X":http://hivelogic.com/narrative/articles/ruby-rails-mongrel-mysql-osx)

We recommend you first upgrade to the latest version of Ruby gems:

{{{!sh
$ sudo gem update --system
}}}

Before installing Buildr, please set the @JAVA_HOME@ environment variable to
point to your JDK distribution, typically with:

{{{!sh
$ export JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Home
}}}

To install Buildr:

{{{!sh
$ sudo gem install buildr
}}}

Buildr uses several libraries that include native extensions.  During
installation it will ask you to pick a platform for these libraries.  By
selecting @ruby@ it will download the source code for these extensions and
compile them to work on your machine.

To upgrade to a new version of Buildr:

{{{!sh
$ sudo gem update buildr
}}}

To install a specific version of Buildr:

{{{!sh
$ sudo gem install buildr -v 1.3.0
}}}


h2. Windows

If you don't already have Ruby installed, now is the time to do it.  The
easiest way to install Ruby is using the "one-click
installer":http://rubyinstaller.rubyforge.org/.

We recommend you first upgrade to the latest version of Ruby gems:

{{{!sh
$ sudo gem update --system
}}}

Before installing Buildr, please set the @JAVA_HOME@ environment variable to
point to your JDK distribution.  Next, use Ruby Gem to install Buildr:

{{{!sh
> gem install buildr
}}}

Buildr uses several libraries that include native extensions.  During
installation it will ask you to pick a platform for these libraries.  By
selecting @mswin32@ it will download and install pre-compiled DLLs for these
extensions.

To upgrade to a new version of Buildr:

{{{!sh
> gem update buildr
}}}

To install a specific version of Buildr:

{{{!sh
> gem install buildr -v 1.3.0
}}}


h2. JRuby

If you don't already have JRuby 1.1RC1 or later installed, you can download it
from the "JRuby site":http://dist.codehaus.org/jruby/.

After uncompressing JRuby, make sure you set the @JAVA_HOME@ environment
variable to point to your JDK distribution.

Finally update your @PATH@ to include both JRuby and Java executables, so you
can run JRuby with the command @jruby@.

For Windows:

{{{!sh
> set JRUBY_HOME=<path to JRuby>
> set PATH=%JRUBY_HOME%/bin;%JAVA_HOME%/bin;%PATH%
> gem install buildr
}}}

And for Unix:

{{{!sh
$ export JRUBY_HOME=<path to JRuby>
$ export PATH=$JRUBY_HOME/bin:$JAVA_HOME/bin:$PATH
$ gem install buildr
}}}

Once installed, you will find the @buildr@ exectuable in the @JRUBY_HOME/bin@
directory.

To upgrade to a new version of Buildr:

{{{!sh
$ sudo gem update buildr
}}}

To install a specific version of Buildr:

{{{!sh
$ sudo gem install buildr -v 1.3.0
}}}

When using JRuby you will notice that Buildr takes a few seconds to start up.
To speed it up, we recommend switching to Java 1.6 and running the JVM in
client mode:

{{{!
$ export JAVA_OPTS=-client
}}}


h2.  Using JRuby and Ruby

Ruby and JRuby maintain separate Gem repositories, and in fact install slightly
different versions of the Buildr Gem (same functionality, different
dependencies).  If you want to use Buildr with both, you must install it
separately for each one.

If you installed JRuby but don't have Ruby installed on your machine, the @gem@
command will install Buildr for JRuby, and the @buildr@ command will run Buildr
using JRuby.

Note that some operating systems, specifically OS/X and various flavors of
Linux, come with Ruby pre-installed, you can check this out by running the
@ruby@ command.

You can use the @PATH@ environment variable to determine which one is used by
default.  The instructions above show you how to place JRuby first on the
@PATH@, afterwhich you can install and use Buildr for JRuby.

If you need to use both versions together, you can pick Ruby or JRuby and run
the various commands using the @-S@ argument.  For example, to install and run
Buildr for JRuby, even though Ruby appears first on the @PATH@:

{{{!
$ jruby -S gem install buildr
$ jruby -S buildr
}}}

To find out which version you are currently running:

{{{!
$ buildr help
}}}

When running on JRuby you will see @(JRuby)@ next to Buildr version number.


h2.  Binaries and Source Code

At the moment we do not make offical Apache binary and source distributions.
Unofficial binary and source distributions are available form
"RubyForge":http://rubyforge.org/projects/buildr.
