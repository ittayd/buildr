h1. Download and Installation

The installation instructions are slightly different for each operating system.
If you are using Ruby, pick the one that best matches your operating system.
If you are using JRuby, see the instructions for "JRuby":#jruby and also read
about using "JRuby and Ruby side by side":#using_jruby_and_ruby.


p(note).  At the moment it seems that Buildr will not work with Java 6, and can
only be used with Java 1.5 or earlier.  If you prefer to use Java 6, consider
installing and using "Buildr for JRuby":jruby.


h2.  Linux

To get started you will need a recent version of Ruby, Ruby Gems and build
tools for compiling native libraries (Make and GCC).

On RedHat/Fedora you can use yum to install Ruby and RubyGems, and then upgrade
to the most recent version of RubyGems:

{{{!sh
$ sudo yum install ruby rubygems ruby-devel gcc
$ sudo gem update --system
}}}

On Ubuntu you have to install several packages:

{{{!sh
$ sudo apt-get install ruby-full ruby1.8-dev libopenssl-ruby build-essential 
}}}

The Debian package for @rubygems@ will not allow you to install Buildr, so you
need to install RubyGems from source:

{{{!sh
$ curl -OL http://rubyforge.org/frs/download.php/29548/rubygems-1.0.1.tgz
$ tar xzf rubygems-1.0.1.tgz
$ cd rubygems-1.0.1
$ sudo ruby setup.rb
$ sudo ln -s /usr/bin/gem1.8 /usr/bin/gem
}}}

Before installing Buildr, please set the @JAVA_HOME@ environment variable to
point to your JDK distribution.  Next, use Ruby Gem to install Buildr:

{{{!sh
$ sudo env JAVA_HOME=$JAVA_HOME gem install buildr
}}}

To upgrade to a new version of Buildr:

{{{!sh
$ sudo env JAVA_HOME=$JAVA_HOME gem update buildr
}}}

To install a specific version of Buildr:

{{{!sh
$ sudo env JAVA_HOME=$JAVA_HOME gem install buildr -v 1.3.0
}}}

You can also use this script "to install Buildr on
Linux":scripts/install-linux.sh.  The script will either install or upgrade
Buildr to the latest version.  It will also upgrade RubyGems to version 1.0.1
or later, and if necessary install Ruby 1.8.6 using yum (RPM) or apt-get (deb).


h2.  OS/X

OS/X 10.5 (Leopard) comes with the latest version of Ruby 1.8.  If you are
using an older version of OS/X, you will first need to upgrade to a recent
version of Ruby.  You can install Ruby using MacPorts or Fink, or use the
"One-Click Installer":http://rubyosx.rubyforge.org/.

We recommend you first upgrade to the latest version of Ruby gems:

{{{!sh
$ sudo gem update --system
}}}

Before installing Buildr, please set the @JAVA_HOME@ environment variable to
point to your JDK distribution:

{{{!sh
$ export JAVA_HOME=/Library/Java/Home
}}}

To install Buildr:

{{{!sh
$ sudo env JAVA_HOME=$JAVA_HOME gem install buildr
}}}

To upgrade to a new version of Buildr:

{{{!sh
$ sudo env JAVA_HOME=$JAVA_HOME gem update buildr
}}}

To install a specific version of Buildr:

{{{!sh
$ sudo env JAVA_HOME=$JAVA_HOME gem install buildr -v 1.3.0
}}}

You can also use this script "to install Buildr on
OS/X":scripts/install-osx.sh.  The script will either install or upgrade Buildr
to the latest version.  It will also upgrade RubyGems to version 1.0.1 or
later, and if necessary install Ruby 1.8.6 using MacPorts or Fink.


h2. Windows

If you don't already have Ruby installed, now is the time to do it.  The
easiest way to install Ruby is using the "one-click
installer":http://rubyinstaller.rubyforge.org/.

We recommend you first upgrade to the latest version of Ruby gems:

{{{!sh
> gem update --system
}}}

Before installing Buildr, please set the @JAVA_HOME@ environment variable to
point to your JDK distribution.  Next, use Ruby Gem to install Buildr:

{{{!sh
> gem install buildr
}}}

Buildr uses several libraries that include native extensions.  During
installation it will ask you to pick a platform for these libraries.  By
selecting @mswin32@ it will download and install pre-compiled DLLs for these
extensions.

To upgrade to a new version of Buildr:

{{{!sh
> gem update buildr
}}}

To install a specific version of Buildr:

{{{!sh
> gem install buildr -v 1.3.0
}}}


h2. JRuby

If you don't already have JRuby 1.1RC2 or later installed, you can download it
from the "JRuby site":http://dist.codehaus.org/jruby/.

After uncompressing JRuby, update your @PATH@ to include both JRuby and Java
executables, so you can run JRuby with the command @jruby@.

For Windows:

{{{!sh
> set JRUBY_HOME=<path to JRuby>
> set PATH=%JRUBY_HOME%/bin;%JAVA_HOME%/bin;%PATH%
> gem install buildr
}}}

And for Unix:

{{{!sh
$ export JRUBY_HOME=<path to JRuby>
$ export PATH=$JRUBY_HOME/bin:$JAVA_HOME/bin:$PATH
$ gem install buildr
}}}

Once installed, you will find the @buildr@ exectuable in the @JRUBY_HOME/bin@
directory.

To upgrade to a new version of Buildr:

{{{!sh
$ sudo gem update buildr
}}}

To install a specific version of Buildr:

{{{!sh
$ sudo gem install buildr -v 1.3.0
}}}

You can also use this script "to install Buildr for
JRuby":scripts/install-jruby.sh.  The script will either install or upgrade
Buildr to the latest version.  If you do not already have JRuby installed, it
will install JRuby 1.1RC2 in @/opt/jruby@ and update the PATH in
@~/.bash_profile@ or @~/.profile@.


h2.  Using JRuby and Ruby

Ruby and JRuby maintain separate Gem repositories, and in fact install slightly
different versions of the Buildr Gem (same functionality, different
dependencies).  If you want to use Buildr with both, you must install it
separately for each one.

If you installed JRuby on your machine and do not have Ruby installed, the
@gem@ and @buildr@ commands will default to using JRuby.  However, you may
already have Ruby installed (some operating systems come with Ruby
pre-installed), in which case these commands will default to whichever is first
on the path.

To work exclusively with JRuby, make sure it shows first on the path, for example,
by setting @PATH=/opt/jruby/bin:$PATH@.  Alternatively, you can run scripts with a particular version
of Ruby using the @-S@ command line argument.  For example:

{{{!
$ # with Ruby
$ ruby -S gem install buildr
$ ruby -S buildr
$ # with JRuby
$ jruby -S gem install buildr
$ jruby -S buildr
}}}

To find out which version of Buildr you are using by default, run @buildr
--help@.  Buildr reports the version number and adds @(JRuby)@ next to it when
running on JRuby.


h2.  Binaries and Source Code

At the moment we do not make offical Apache binary and source distributions.
Unofficial binary and source distributions are available form
"RubyForge":http://rubyforge.org/projects/buildr.
